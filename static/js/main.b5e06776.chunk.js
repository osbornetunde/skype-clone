(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1085:function(e,t,a){},1086:function(e,t,a){},1087:function(e,t,a){},1088:function(e,t,a){},1089:function(e,t,a){},1090:function(e,t,a){},1091:function(e,t,a){},1092:function(e,t,a){"use strict";a.r(t);var n,r=a(0),s=a.n(r),c=a(11),i=a.n(c),o=(a(20),a(1)),l=a.n(o),u=(a(22),a(23),a(4)),m=a(3),d=a.n(m),f=a(14),p=a(26),v=a(35),g=a(36),E=a(1),_=(n=10,Array.from({length:n},function(){return b()})),h=E.mapKeys(_,"user_id"),y=function(e){var t={};return E.forEach(_,function(a){var n;t[a.user_id]=Object(f.a)({},E.mapKeys((n=e,Array.from({length:n},function(e,t){return{number:t,text:v.sentence(),is_user_msg:g.random.boolean()}})),"number"))}),t};b(),y(10);function b(){return{name:g.name.findName(),email:g.internet.email(),profile_pic:g.internet.avatar(),status:v.sentence(),user_id:p.generate()}}var N="SET_ACTIVE_USER_ID",I="SET_TYPING_VALUE",w="SEND_MESSAGE",S="EDIT_MESSAGE",U="DELETE_MESSAGE";var k=a(12);var C=Object(k.a)(function(e,t){switch(t.type){case w:var a=t.payload,n=a.message,r=a.activeUserId,s=a.messageId,c=e[r],i=s||+l.a.keys(c).pop()+1,o={number:i,text:s?n.concat(" (edited)"):n,is_user_msg:!0};e[r][i]=o;break;case U:var u=t.payload,m=u.message_Id,d=u.activeUser_Id;console.log(m),e[d]=l.a.omit(e[d],m);break;default:return e}},y(10));var A=Object(u.a)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b();return arguments.length>1&&arguments[1],e},contacts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;arguments.length>1&&arguments[1];return e},activeUserId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return t.payload;default:return e}},messages:d()(C),typing:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return t.payload;case w:return"";case S:return t.payload.message;default:return e}},messageId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"null",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return t.payload.messageId;case U:return t.payload.message_Id;default:return e}}}),j=Object(u.b)(A),O=(a(1085),function(e){var t=e.user,a=t.name,n=t.profile_pic,r=t.status,c=a.split(" ")[0];return s.a.createElement("div",{className:"Empty"},s.a.createElement("h1",{className:"Empty__name"},"Welcome, ",c),s.a.createElement("img",{src:n,alt:a,className:"Empty__img"}),s.a.createElement("p",{className:"Empty__status"},s.a.createElement("b",null,"Status:")," ",r),s.a.createElement("button",{className:"Empty__btn"},"Start a conversation"),s.a.createElement("p",{className:"Empty__info"},"Search for someone to start chatting with or go to contacts to check who is available"))}),T=(a(1086),a(1087),function(e){var t=e.user,a=function(e){j.dispatch(m.ActionCreators[e]())},n=t.name,r=t.profile_pic,c=t.status;return s.a.createElement("header",{className:"Header"},s.a.createElement("div",{className:"Header__details"},s.a.createElement("img",{src:r,alt:n,className:"Header__image"}),s.a.createElement("h1",{className:"Header__name"},n)),s.a.createElement("p",{className:"Header__status"},c),s.a.createElement("button",{onClick:a.bind(null,"undo")},"undo"),s.a.createElement("button",{onClick:a.bind(null,"redo")},"redo"))}),D=(a(1088),function(e){var t=e.message,a=j.getState().activeUserId,n=t.text,r=t.is_user_msg,c=t.number;return r?s.a.createElement("div",{className:"Chat is-user-msg",onDoubleClick:function(e,t){j.dispatch(function(e,t,a){return{type:S,payload:{message:e,messageId:t,activeUserId:a}}}(t,e,a))}.bind(null,c,n)},s.a.createElement("span",{className:"close__btn",onClick:function(e){j.dispatch({type:U,payload:{message_Id:e,activeUser_Id:a}})}.bind(null,c)},"X"),n):s.a.createElement("div",{className:"Chat"},n)}),H=function(e){var t=e.messages,a=Object(r.useRef)();Object(r.useEffect)(function(){n()}),Object(r.useEffect)(function(){n()},[]);var n=function(){a.current.scrollTop=a.current.scrollHeight};return s.a.createElement("div",{className:"Chats",ref:a},t.map(function(e){return s.a.createElement(D,{message:e,key:e.number})}))},M=(a(1089),function(e){var t=e.value;return s.a.createElement("form",{className:"Message",onSubmit:function(e){e.preventDefault();var t=j.getState(),a=t.typing,n=t.activeUserId,r=t.messageId;j.dispatch(function(e,t,a){return{type:w,payload:{message:e,activeUserId:t,messageId:a}}}(a,n,r))}},s.a.createElement("input",{className:"Message__input",onChange:function(e){var t;j.dispatch((t=e.target.value,{type:I,payload:t}))},value:t,placeholder:"write a message"}))}),x=function(e){var t=e.activeUserId,a=j.getState(),n=a.contacts[t],r=a.messages.present[t],c=a.typing;return s.a.createElement("div",{className:"ChatWindow"},s.a.createElement(T,{user:n}),s.a.createElement(H,{messages:l.a.values(r)}),s.a.createElement(M,{value:c}))},G=function(){var e=j.getState(),t=e.user,a=e.activeUserId;return s.a.createElement("main",{className:"Main"},a?s.a.createElement(x,{activeUserId:a}):s.a.createElement(O,{user:t,activeUserId:a}))},W=(a(1090),function(e){var t=e.user,a=t.name,n=t.profile_pic,r=t.status,c=t.user_id;return s.a.createElement("div",{className:"User",onClick:function(){j.dispatch(function(e){return{type:N,payload:e}}(c))}},s.a.createElement("img",{src:n,alt:a,className:"User__pic"}),s.a.createElement("div",{className:"User__details"},s.a.createElement("p",{className:"User__details-name"},a),s.a.createElement("p",{className:"User__details-status"},r)))}),R=(a(1091),function(e){var t=e.contacts;return s.a.createElement("aside",{className:"Sidebar"},t.map(function(e){return s.a.createElement(W,{user:e,key:e.user_id})}))}),B=function(){var e=j.getState(),t=e.contacts,a=e.user,n=e.activeUserId;return s.a.createElement("div",{className:"App"},s.a.createElement(R,{contacts:l.a.values(t)}),s.a.createElement(G,{user:a,activeUserId:n}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=function(){console.log("%c Rendered with \ud83d\udc49 \ud83d\udc49\ud83d\udc47","background: purple; color:#fff"),console.log(j.getState()),i.a.render(s.a.createElement(B,null),document.getElementById("root"))};J(),j.subscribe(J),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},15:function(e,t,a){e.exports=a(1092)},20:function(e,t,a){},22:function(e,t,a){},23:function(e,t,a){}},[[15,1,2]]]);
//# sourceMappingURL=main.b5e06776.chunk.js.map